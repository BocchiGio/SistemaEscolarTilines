<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.ToolBar?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>

<BorderPane xmlns="http://javafx.com/javafx/21.0.1" xmlns:fx="http://javafx.com/fxml" fx:controller="org.example.se.AsistenciaController">
    <top>
        <ToolBar style="-fx-background-color: #2c3e50; -fx-padding: 10;">
            <items>
                <!-- PRIMERO la materia -->
                <Label text="Materia:" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 0 5 0 0;"/>
                <ComboBox fx:id="comboMateria" prefWidth="200.0" promptText="Seleccionar Materia (opcional)" />

                <!-- LUEGO la persona -->
                <Label text="Alumno:" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 0 5 0 15;"/>
                <ComboBox fx:id="comboPersona" prefWidth="200.0" promptText="Seleccionar Alumno" />

                <!-- Fecha -->
                <Label text="Fecha:" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 0 5 0 15;"/>
                <DatePicker fx:id="dpFecha" promptText="Fecha" />

                <!-- Acciones -->
                <MenuButton fx:id="menuAcciones" text="Acciones"
                            style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 5 15; -fx-margin: 0 0 0 20;">
                    <items>
                        <MenuItem fx:id="menuAgregar" text="➕ Agregar Asistencia" onAction="#agregarAsistencia" />
                        <MenuItem fx:id="menuEliminar" text="❌ Eliminar Asistencia" onAction="#eliminarAsistencia" />
                    </items>
                </MenuButton>
            </items>
        </ToolBar>
    </top>

    <center>
        <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE" style="-fx-background-color: #ecf0f1;">
            <tabs>
                <Tab text="📊 Listado de Asistencias" style="-fx-font-weight: bold;">
                    <content>
                        <TableView fx:id="tblAsistencia" style="-fx-font-size: 12px;">
                            <columns>
                                <TableColumn fx:id="colPersona" prefWidth="300" text="👤 Alumno" />
                                <TableColumn fx:id="colMateria" prefWidth="300.0" text="📚 Materia" />
                                <TableColumn fx:id="colFecha" prefWidth="200.0" text="📅 Fecha" />
                            </columns>
                            <columnResizePolicy>
                                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                            </columnResizePolicy>
                        </TableView>
                    </content>
                </Tab>
            </tabs>
        </TabPane>
    </center>
</BorderPane>